# Changelog

## V-2.22 - Admin Dashboard Modular Architecture
- **Split 1,890-line monolith into focused modules**:
  - `js/views/admin/AdminVendors.js` - Vendor management (filter, sort, bulk actions)
  - `js/views/admin/AdminUsers.js` - User management (role editing, admin grants)
  - `js/views/admin/AdminBooths.js` - Booth management (generate, delete, configurable)
  - `js/views/admin/AdminPayments.js` - Payment tracking (stats, invoices, export)
- **Centralized Firebase imports** - All modules use `getAdminDb()` and `getFirestoreModule()` from `admin.js`
- **Configurable booth settings** - `window.BOOTH_CONFIG` allows runtime customization of booth counts, sizes, prices
- **Enhanced booth UI** - Added stats cards (total, indoor, available, occupied), grid layout
- **Better code organization** - Main AdminDashboard.js now ~750 lines (down from 1,890)
- **Consistent patterns** - All modules use same event delegation, loading states, error handling

## V-2.21 - Admin Dashboard Major Refactor
- **Fixed ALL duplicate event listeners** - Added _listenerAdded guard flags to vendors list, users list, search, filter, sort, and bulk action buttons
- **Removed global window pollution** - Replaced 10+ inline onclick handlers with proper event delegation using data-action attributes
- **Added loading states** - All action buttons (view, edit, approve, delete, admin grant/revoke) now show spinner during async operations
- **Enhanced Payments tab**:
  - Added filter dropdown (All/Paid/Pending/Sent)
  - Added search functionality
  - Added stats cards (Total Revenue, Paid, Pending, Sent counts)
  - Payment status color coding (green/yellow/orange badges)
  - Better payment card layout
- **Created admin utilities module** - js/utils/admin.js with centralized Firebase helpers and button loading utilities
- Code quality: More consistent patterns, better separation of concerns, no more global namespace pollution

## 2025-10-10 - Business Card System Update
- Replaced legacy LeadPass/RFID system with business card sharing (app now called HomeShow)
- Added attendee business cards with profile images, background images, family size, visiting reasons, bio, location
- Enhanced vendor profiles with home show videos, business card uploads, social media selection
- Created Instagram-style vendor gallery for browsing all vendor profiles
- Updated vendor landing pages with hero sections, video overlays, business card display
- Implemented card sharing system - attendees share cards with vendors
- Added social media integration with selective display
- Updated navigation: LeadPass â†’ My Card, added Vendor Gallery tab
- Enhanced EditVendorProfile with business card fields and social media selection
- Updated mock data with business card information and enhanced vendor profiles
- Removed RFID simulation, replaced with ShareCard view

## 2025-10-10 - Initial Implementation
- Initial LeadPass SPA implementation (project later renamed to HomeShow)
- All core features, role-based UI, onboarding, vendor/attendee/organizer flows
- Interactive SVG map, RFID simulation, vendor landing, registration wizard
- Offline queue, localStorage persistence, hash routing
- All views and UI helpers implemented
- Documentation: FEATURES_COMPLETE.md, TESTING_GUIDE.md, ROLE_SWITCHING_FIX.md, SESSION_COMPLETE.md
